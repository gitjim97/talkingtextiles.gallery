<nav style="background: orange; padding: 1rem 0; position: relative; z-index: 100;">
  <ul style="display: flex; justify-content: center; gap: 2rem; list-style: none; margin: 0; padding: 0; flex-wrap: wrap;">
    <li><a href="/" class="nav-link">Home</a></li>
    <li><a href="/gallery/" class="nav-link">Gallery</a></li>
    <li class="dropdown" style="position: relative;">
      <button class="dropdown-toggle nav-link" type="button" aria-haspopup="true" aria-expanded="false" style="background: none; border: none; color: white; font-weight: bold; font-size: inherit; cursor: pointer; display: flex; align-items: center; gap: 0.4em; font-family: inherit; padding: 0.5rem; border-radius: 4px;">
        Show
        <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 2px; transition: transform 0.2s;"><path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <ul class="dropdown-menu">
        <li><a href="/show/photos/" class="nav-link dropdown-item">Photos</a></li>
        <li><a href="/show/event-dates/" class="nav-link dropdown-item">Event Dates</a></li>
        <li><a href="/show/book/" class="nav-link dropdown-item">Book Show</a></li>
      </ul>
    </li>
    <li class="dropdown" style="position: relative;">
      <button class="dropdown-toggle nav-link" type="button" aria-haspopup="true" aria-expanded="false" style="background: none; border: none; color: white; font-weight: bold; font-size: inherit; cursor: pointer; display: flex; align-items: center; gap: 0.4em; font-family: inherit; padding: 0.5rem; border-radius: 4px;">
        Classes
        <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 2px; transition: transform 0.2s;"><path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <ul class="dropdown-menu">
        <li><a href="/classes/photos/" class="nav-link dropdown-item">Photos</a></li>
        <li><a href="/classes/book/" class="nav-link dropdown-item">Book Class</a></li>
      </ul>
    </li>
    <li><a href="/anthology/" class="nav-link">Anthology</a></li>
  </ul>

  <style>
    .nav-link {
      color: white;
      text-decoration: none;
      font-weight: bold;
      position: relative;
      transition: color 0.25s ease, background 0.25s ease;
      padding: 0.5rem;
      border-radius: 4px;
      display: inline-block;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      left: 0.5rem;
      right: 0.5rem;
      bottom: 0;
      height: 2px;
      background: #fff;
      border-radius: 1px;
      opacity: 0;
      transform: scaleX(0);
      transition: opacity 0.25s ease, transform 0.25s ease;
    }
    
    .nav-link:hover, 
    .nav-link:focus-visible { 
      color: #222; 
      background: rgba(255,255,255,0.1);
    }
    
    .nav-link:hover::after, 
    .nav-link:focus-visible::after { 
      opacity: 1; 
      transform: scaleX(1); 
    }

    .dropdown {
      position: relative;
    }

    .dropdown-toggle {
      transition: background 0.25s ease, color 0.25s ease;
    }
    
    .dropdown-toggle:hover,
    .dropdown-toggle:focus {
      background: rgba(255,255,255,0.1) !important;
      color: #222 !important;
    }

    /* Use CSS-only dropdowns for better Safari compatibility */
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #ff8c00;
      min-width: 160px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.15);
      border-radius: 8px;
      z-index: 1000;
      padding: 0.5rem 0;
      margin-top: 0.25rem;
      border: 1px solid rgba(255,255,255,0.1);
      opacity: 0;
      transform: translateX(-50%) translateY(-10px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      pointer-events: none;
    }
    
    /* Show dropdown on hover and focus */
    .dropdown:hover .dropdown-menu,
    .dropdown:focus-within .dropdown-menu,
    .dropdown-toggle:focus + .dropdown-menu {
      display: block;
      opacity: 1;
      transform: translateX(-50%) translateY(0);
      pointer-events: auto;
    }
    
    /* Rotate arrow on hover/focus */
    .dropdown:hover .dropdown-arrow,
    .dropdown:focus-within .dropdown-arrow,
    .dropdown-toggle:focus .dropdown-arrow {
      transform: rotate(180deg);
    }
    
    .dropdown-menu li { 
      display: block; 
      text-align: left; 
      margin: 0;
    }
    
    .dropdown-item {
      color: #fff !important;
      padding: 0.75rem 1.25rem !important;
      display: block !important;
      font-weight: normal !important;
      background: none !important;
      transition: background 0.2s ease, color 0.2s ease !important;
      border-radius: 0 !important;
    }
    
    .dropdown-item::after {
      display: none !important;
    }
    
    .dropdown-item:hover,
    .dropdown-item:focus { 
      background: rgba(255,255,255,0.15) !important; 
      color: #fff !important;
    }

    /* Keep menu visible when hovering over it */
    .dropdown-menu:hover {
      display: block;
      opacity: 1;
      transform: translateX(-50%) translateY(0);
      pointer-events: auto;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      nav ul {
        gap: 1rem;
        padding: 0 1rem;
      }
      
      .dropdown-menu {
        left: 0;
        transform: translateX(0);
        min-width: 140px;
      }
      
      .dropdown:hover .dropdown-menu,
      .dropdown:focus-within .dropdown-menu {
        transform: translateX(0) translateY(0);
      }
      
      .dropdown-menu:hover {
        transform: translateX(0) translateY(0);
      }
    }
    
    @media (max-width: 480px) {
      nav ul {
        gap: 0.5rem;
        font-size: 0.9rem;
      }
      
      .nav-link {
        padding: 0.4rem;
      }
      
      .dropdown-item {
        padding: 0.6rem 1rem !important;
        font-size: 0.9rem;
      }
      
      .dropdown-toggle {
        padding: 0.4rem !important;
      }
    }
    
    /* Better Safari touch support */
    @media (hover: none) and (pointer: coarse) {
      .dropdown-menu {
        position: static;
        display: none;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
        margin: 0.5rem 0 0 0;
        transform: none;
        border-radius: 4px;
      }
      
      .dropdown:focus-within .dropdown-menu,
      .dropdown-toggle:focus + .dropdown-menu {
        display: block;
        opacity: 1;
        transform: none;
      }
    }
  </style>
</nav>
