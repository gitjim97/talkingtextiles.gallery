---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <header style="width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw; height: 480px; background: #111; margin-bottom: 2rem; overflow: hidden;">
    <link rel="preload" as="image" href="/images/hero/Angela_Davis-1600.webp" />
    <link rel="preload" as="image" href="/images/hero/Cynthia-1600.webp" />
    <img id="hero-slideshow-1" src="/images/hero/Angela_Davis-1600.webp" alt="Gallery Slideshow" style="width: 100vw; height: 100%; object-fit: cover; border-radius: 0; box-shadow: none; display: block; position: absolute; top: 0; left: 0; opacity: 1; transition: opacity 1.2s cubic-bezier(0.4,0,0.2,1); z-index: 2;" />
    <img id="hero-slideshow-2" src="/images/hero/Angela_Davis-1600.webp" alt="Gallery Slideshow" style="width: 100vw; height: 100%; object-fit: cover; border-radius: 0; box-shadow: none; display: block; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 1.2s cubic-bezier(0.4,0,0.2,1); z-index: 1;" />
  </header>
  <script type="text/javascript">
    const images = [
      "/images/hero/Angela_Davis-1600.webp",
      "/images/hero/Cynthia-1600.webp",
      "/images/hero/Frans_grand_mother-1600.webp",
      "/images/hero/Jeanneta_art-1600.webp",
      "/images/hero/Kamala-1600.webp",
      "/images/hero/Malcom_X-1600.webp",
      "/images/hero/mama-1600.webp",
      "/images/hero/Nigel-1600.webp",
      "/images/hero/Untitled-1-1600.webp"
    ];
    let idx = 0;
    let showing = 1;
    const img1 = document.getElementById('hero-slideshow-1');
    const img2 = document.getElementById('hero-slideshow-2');
    function crossfadeToNext() {
      const nextIdx = (idx + 1) % images.length;
      if (showing === 1) {
        img2.src = images[nextIdx];
        img2.style.transition = 'none';
        img2.style.opacity = 1;
        img1.style.transition = 'none';
        img1.style.opacity = 1;
        // Force reflow to apply transition after src change
        void img2.offsetWidth;
        img2.style.transition = 'opacity 1.2s cubic-bezier(0.4,0,0.2,1)';
        img1.style.transition = 'opacity 1.2s cubic-bezier(0.4,0,0.2,1)';
        img2.style.opacity = 1;
        img1.style.opacity = 0;
        setTimeout(() => {
          img1.src = images[nextIdx];
          img1.style.transition = 'none';
          img1.style.opacity = 1;
          img2.style.transition = 'none';
          img2.style.opacity = 0;
          showing = 1;
          idx = nextIdx;
        }, 1200);
        showing = 2;
      } else {
        img1.src = images[nextIdx];
        img1.style.transition = 'none';
        img1.style.opacity = 1;
        img2.style.transition = 'none';
        img2.style.opacity = 1;
        void img1.offsetWidth;
        img1.style.transition = 'opacity 1.2s cubic-bezier(0.4,0,0.2,1)';
        img2.style.transition = 'opacity 1.2s cubic-bezier(0.4,0,0.2,1)';
        img1.style.opacity = 1;
        img2.style.opacity = 0;
        setTimeout(() => {
          img2.src = images[nextIdx];
          img2.style.transition = 'none';
          img2.style.opacity = 1;
          img1.style.transition = 'none';
          img1.style.opacity = 0;
          showing = 2;
          idx = nextIdx;
        }, 1200);
        showing = 1;
      }
    }
    setInterval(crossfadeToNext, 6000);
  </script>

  <main style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 220px;">
    <h1 style="color: #fff; text-align: center; font-size: 2.8rem; margin-bottom: 1rem; letter-spacing: 0.02em;">Welcome to Talking Textiles</h1>
    <p style="color: #fff; text-align: center; font-size: 1.35rem; max-width: 600px; margin: 0 auto 1.5rem auto;">Discover artists, stories, and culture through fabric and form.</p>
    
    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
      <a href="/gallery" style="background: #ffa500; color: #fff; text-decoration: none; padding: 0.75rem 1.5rem; border-radius: 4px; font-weight: bold; transition: background 0.25s;">View Gallery</a>
      <a href="/show/book" style="background: transparent; color: #ffa500; text-decoration: none; padding: 0.75rem 1.5rem; border: 2px solid #ffa500; border-radius: 4px; font-weight: bold; transition: all 0.25s;">Book the Show</a>
    </div>
    <!-- Gallery Images section removed as requested -->
  </main>
</Layout>
